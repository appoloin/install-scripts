name: Assasssin's Creed IV
game_slug: assassins-creed-iv-black-flag
version: Installer
slug: INSTALLER
runner: wine

script:
  game:
    exe: $GAMEDIR/drive_c/Program Files (x86)/Assassin's Creed IV Black Flag/AC4BFSP.exe
    prefix: $GAMEDIR

  files:
    - setup: N/A:Select installer
    - dx2010: https://lutris.net/files/tools/directx-2010.tar.gz


  installer:
    - task:
        name: create_prefix
        install_mono: false
        install_gecko: false
        prefix: $GAMEDIR

    - task:
        app: corefonts tahoma
        description: Installing corefonts
        name: winetricks
        prefix: $GAMEDIR

    - extract:
        dst: $CACHE/dxsetup
        file: dx2010

    - task:
        app: vcrun2008 vcrun2010
        description: Installing Visual C++ librairies (2008 & 2010)
        name: winetricks
        prefix: $GAMEDIR

    - task:
        executable: $CACHE/dxsetup/DXSETUP.exe
        name: wineexec
        prefix: $GAMEDIR/prefix

    - task:
        app: dotnet472
        description: Please be patient while we install .NET 4.7.2
        name: winetricks
        prefix: $GAMEDIR

    - task:
        executable: $setup
        name: wineexec
        prefix: $GAMEDIR

  wine:
    Desktop: true


