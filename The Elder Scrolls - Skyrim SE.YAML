name: Skyrim
game_slug:  the-elder-scrolls-v-skyrim
version: Installer
slug: skyrim
runner: wine

script:
  game:
    exe: $GAMEDIR/drive_c/Games/The Elder Scrolls V Skyrim Special Edition/SkyrimSELauncher.exe
    prefix: $GAMEDIR

  files:
    - setup: N/A:Select installer
    - patch: N/A:Select patch
    - patch2: N/A:Select patch 2
    - wrye: N/A:Select Wrye Bash installer
    - loot: N/A:Select Loot installer


  installer:
    - task:
        name: create_prefix
        install_mono: false
        install_gecko: false
        prefix: $GAMEDIR

    - task:
        app: xact corefonts tahoma vcrun2008 vcrun2015 vcrun2017
        description: Instaling dependances 
        name: winetricks
        prefix: $GAMEDIR

    - task:
        executable: $setup
        description: Installing Game
        name: wineexec
        prefix: $GAMEDIR

    - task:
        executable: $patch
        description: Installing AE Patch
        name: wineexec
        prefix: $GAMEDIR

    - task:
        executable: $patch2
        description: Installing Fix
        name: wineexec
        prefix: $GAMEDIR

    - task:
        key: Installed Path
        name: set_regedit
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Skyrim Special Edition
        prefix: $GAMEDIR
        type: REG_SZ
        value: c:\\Games\\skyrim special edition
        
    - task:
        key: Installed Path
        name: set_regedit
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\489830
        prefix: $GAMEDIR
        type: REG_SZ
        value: c:\\Games\\skyrim special edition

    - task:
        executable: $wrye
        description: Installing Wrye Bash
        name: wineexec
        prefix: $GAMEDIR

    - task:
        executable: $loot
        description: Installing Loot
        name: wineexec
        prefix: $GAMEDIR



  wine:
    Desktop: true


